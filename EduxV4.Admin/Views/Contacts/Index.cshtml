@model IEnumerable<EduxV4.Data.Contact>
@{
    ViewData["Title"] = "Öğrenciler";
}

<ul class="nav nav-tabs">
    <li class="active">
        <a href="#tab_6_1" data-toggle="tab"> Aday </a>
    </li>
    <li>
        <a href="#tab_6_2" data-toggle="tab"> Ön Kayıt </a>
    </li>
    <li>
        <a href="#tab_6_3" data-toggle="tab"> Kesin Kayıt </a>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane active" id="tab_6_1">
        <p>
            <a asp-action="Create" class="btn btn-primary">Yeni Aday</a>
        </p>
        <table class="table table-striped table-hover dt-responsive">
            <thead>
                <tr>
                    <th class="text-nowrap all">
                        Ad Soyad
                    </th>
                    <th class="text-nowrap desktop">
                        Görüşen
                    </th>
                    <th class="text-nowrap desktop">
                        Son Durum
                    </th>
                    <th class="text-nowrap desktop">
                        G.S.
                    </th>
                    <th class="text-nowrap desktop">
                        Tarih
                    </th>
                    <th data-orderable="false" class="all">Eylemler</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @item.FullName
                        </td>
                        <td>
                            @item.Activities.OrderByDescending(a => a.ActivityDate).FirstOrDefault()?.Staff.FullName
                        </td>
                        <td>
                            @item.Activities.OrderByDescending(a => a.ActivityDate).FirstOrDefault()?.ActivityNextStep?.Name
                        </td>
                        <td>
                            @item.Activities.Count()
                        </td>
                        <td>
                            @item.Activities.OrderByDescending(a => a.ActivityDate).FirstOrDefault()?.ActivityDate.ToString("dd.MM.yyyy")
                        </td>
                        <td>
                            <div class="btn-group pull-right">
                                <button class="btn green btn-xs btn-outline dropdown-toggle" data-toggle="dropdown">
                                    Eylemler
                                    <i class="fa fa-angle-down"></i>
                                </button>
                                <ul class="dropdown-menu pull-right">
                                    <li>
                                        <a asp-action="Edit" asp-route-id="@item.Id"><i class="fa fa-edit"></i> Düzenle</a>
                                    </li>
                                    @*<li>
                                        <a asp-action="Details" asp-route-id="@item.Id"><i class="fa fa-file"></i> Ayrıntılar</a>
                                    </li>*@
                                    <li>
                                        <a asp-action="Delete" asp-route-id="@item.Id"><i class="fa fa-trash"></i> Sil</a>
                                    </li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="tab-pane" id="tab_6_2">
        <p>
            <a asp-action="Create" class="btn btn-primary">Yeni Ön Kayıt</a>
        </p>
        <table class="table table-striped table-hover dt-responsive">
            <thead>
                <tr>
                    <th class="text-nowrap all">
                        Ad Soyad
                    </th>
                    <th class="text-nowrap desktop">
                        Görüşen
                    </th>
                    <th class="text-nowrap desktop">
                        Son Durum
                    </th>
                    <th class="text-nowrap desktop">
                        G.S.
                    </th>
                    <th class="text-nowrap desktop">
                        Tarih
                    </th>
                    <th data-orderable="false" class="all">Eylemler</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @item.FullName
                        </td>
                        <td>
                            @item.Activities.OrderByDescending(a => a.ActivityDate).FirstOrDefault()?.Staff.FullName
                        </td>
                        <td>
                            @item.Activities.OrderByDescending(a => a.ActivityDate).FirstOrDefault()?.ActivityNextStep?.Name
                        </td>
                        <td>
                            @item.Activities.Count()
                        </td>
                        <td>
                            @item.Activities.OrderByDescending(a => a.ActivityDate).FirstOrDefault()?.ActivityDate.ToString("dd.MM.yyyy")
                        </td>
                        <td>
                            <div class="btn-group pull-right">
                                <button class="btn green btn-xs btn-outline dropdown-toggle" data-toggle="dropdown">
                                    Eylemler
                                    <i class="fa fa-angle-down"></i>
                                </button>
                                <ul class="dropdown-menu pull-right">
                                    <li>
                                        <a asp-action="Edit" asp-route-id="@item.Id"><i class="fa fa-edit"></i> Düzenle</a>
                                    </li>
                                    @*<li>
                                        <a asp-action="Details" asp-route-id="@item.Id"><i class="fa fa-file"></i> Ayrıntılar</a>
                                    </li>*@
                                    <li>
                                        <a asp-action="Delete" asp-route-id="@item.Id"><i class="fa fa-trash"></i> Sil</a>
                                    </li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="tab-pane" id="tab_6_3">
        <p>
            <a asp-action="Create" class="btn btn-primary">Yeni Kesin Kayıt</a>
        </p>
        <table class="table table-striped table-hover dt-responsive">
            <thead>
                <tr>
                    <th class="text-nowrap all">
                        Ad Soyad
                    </th>
                    <th class="text-nowrap desktop">
                        Görüşen
                    </th>
                    <th class="text-nowrap desktop">
                        Son Durum
                    </th>
                    <th class="text-nowrap desktop">
                        G.S.
                    </th>
                    <th class="text-nowrap desktop">
                        Tarih
                    </th>
                    <th data-orderable="false" class="all">Eylemler</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @item.FullName
                        </td>
                        <td>
                            @item.Activities.OrderByDescending(a => a.ActivityDate).FirstOrDefault()?.Staff.FullName
                        </td>
                        <td>
                            @item.Activities.OrderByDescending(a => a.ActivityDate).FirstOrDefault()?.ActivityNextStep?.Name
                        </td>
                        <td>
                            @item.Activities.Count()
                        </td>
                        <td>
                            @item.Activities.OrderByDescending(a => a.ActivityDate).FirstOrDefault()?.ActivityDate.ToString("dd.MM.yyyy")
                        </td>
                        <td>
                            <div class="btn-group pull-right">
                                <button class="btn green btn-xs btn-outline dropdown-toggle" data-toggle="dropdown">
                                    Eylemler
                                    <i class="fa fa-angle-down"></i>
                                </button>
                                <ul class="dropdown-menu pull-right">
                                    <li>
                                        <a asp-action="Edit" asp-route-id="@item.Id"><i class="fa fa-edit"></i> Düzenle</a>
                                    </li>
                                    @*<li>
                                        <a asp-action="Details" asp-route-id="@item.Id"><i class="fa fa-file"></i> Ayrıntılar</a>
                                    </li>*@
                                    <li>
                                        <a asp-action="Delete" asp-route-id="@item.Id"><i class="fa fa-trash"></i> Sil</a>
                                    </li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>